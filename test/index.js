var tape = require('tape')
var shapes = require('../')

var single = 'M82 834v161h147v117q0 154 90 236q81 73 210 73h3q84 0 207 -24l-47 -187q-57 20 -103 20q-1 1 -2 1q-45 0 -79 -25q-35 -26 -35 -96v-115h182v-161h-182v-834h-244v834h-147z'

var multiple = 'M31 -178q0 92 56 146.5t149 68.5q-121 74 -121 182q0 72 44.5 120.5t116.5 68.5q-121 102 -120 256q0 162 127 262q123 96 281.5 96t264.5 -59q12 117 101 188q86 72 203 72l-13 -232q-176 0 -182 -117q76 -94 76 -192t-35 -164.5t-94 -111.5q-123 -98 -299 -99 q-100 0 -183 31q-82 -25 -81 -98q0 -92 155 -93h334q340 0 340 -237q0 -80 -40 -157t-116 -136q-168 -131 -422 -131q-246 0 -399 100q-143 96 -143 236zM268 -168q0 -70 81 -112t191.5 -42t173 18.5t105.5 49.5q92 61 92 148q0 37 -25.5 60t-74.5 23h-350 q-193 -8 -193 -145zM395 667q0 -83 49.5 -136.5t143.5 -53.5t140 53.5t46 136.5t-46 135t-140 52t-143.5 -52t-49.5 -135z'

tape('works with single-shape paths', function(test) {
  var expected = [single]
  test.deepEqual(shapes(single), expected)
  test.end()
})

tape('works with multiple-shape paths', function(test) {
  var one = 'M31 -178q0 92 56 146.5t149 68.5q-121 74 -121 182q0 72 44.5 120.5t116.5 68.5q-121 102 -120 256q0 162 127 262q123 96 281.5 96t264.5 -59q12 117 101 188q86 72 203 72l-13 -232q-176 0 -182 -117q76 -94 76 -192t-35 -164.5t-94 -111.5q-123 -98 -299 -99 q-100 0 -183 31q-82 -25 -81 -98q0 -92 155 -93h334q340 0 340 -237q0 -80 -40 -157t-116 -136q-168 -131 -422 -131q-246 0 -399 100q-143 96 -143 236z'
  var two = 'M268 -168q0 -70 81 -112t191.5 -42t173 18.5t105.5 49.5q92 61 92 148q0 37 -25.5 60t-74.5 23h-350 q-193 -8 -193 -145z'
  var three = 'M395 667q0 -83 49.5 -136.5t143.5 -53.5t140 53.5t46 136.5t-46 135t-140 52t-143.5 -52t-49.5 -135z'

  var expected = [one, two, three]
  test.deepEqual(shapes(multiple), expected)
  test.end()
})
